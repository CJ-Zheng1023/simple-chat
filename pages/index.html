<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="../public/components/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="../public/styles/index.css" />
    <title>聊天啦~~~</title>
</head>
<body>
<section class="chat-login" style="display: none;">
    <div class="container">
        <h1 class="text-center">聊天啦~~~</h1>
        <div class="panel panel-default">
            <div class="panel-body">
                <form>
                    <div class="form-group">
                        <input class="text-center" type="text" placeholder="昵称" />
                    </div>
                    <div class="form-action">
                        <button class="btn btn-primary btn-lg">开始聊天</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<section class="chat-room">
    <div class="side-bar">
        <div class="chat-tabs-box">

            <!-- Nav tabs -->
            <ul class="nav nav-tabs nav-justified" role="tablist">
                <li class="active"><a href="#user" aria-controls="user" role="tab" data-toggle="tab">在线用户<span class="badge badge-danger">7</span></a></li>
                <li><a href="#music" aria-controls="music" role="tab" data-toggle="tab">音乐欣赏</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content scrollable">
                <div role="tabpanel" class="tab-pane active" id="user">
                    <ul class="list-group">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Morbi leo risus</li>
                        <li class="list-group-item">Porta ac consectetur ac</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                </div>
                <div role="tabpanel" class="tab-pane" id="music">
                    <table class="table table-music">
                        <thead>
                            <tr>
                                <th>
                                    <div>歌手</div>
                                </th>
                                <th>
                                    <div>歌曲</div>
                                </th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><div>尹钟信</div></td>
                                <td><div>每当那时候</div></td>
                                <td>
                                    <div style="width: 14px;">
                                        <audio src="../public/music/尹钟信-每当那时候.mp3"></audio>
                                        <i class="music-controls glyphicon glyphicon-play"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><div>BTS</div></td>
                                <td><div>DNA</div></td>
                                <td>
                                    <div style="width: 14px;">
                                        <audio src="../public/music/BTS-DNA.mp3"></audio>
                                        <i class="music-controls glyphicon glyphicon-play"></i>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
        <div class="side-bar-toggle">
            <i class="chat-icon chat-icon-right glyphicon glyphicon-menu-right"></i>
            <i class="chat-icon chat-icon-left glyphicon glyphicon-menu-left"></i>
        </div>
    </div>
    <div class="chat-dialog">
        <div class="message-box">
            <div class="scrollable">
                <ul class="message-list">
                    <li class="message-item">
                        <div class="other">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                12312asdfasdfasdfasdfasdfasdfasdfasdf
                            </div>
                        </div>
                    </li>
                    <li class="message-item">
                        <div class="own">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                12312sadfasdf
                            </div>
                        </div>
                    </li>
                    <li class="message-item">
                        <div class="other">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                12312asdfasdfasdfasdfasdfasdfasdfasdf
                            </div>
                        </div>
                    </li>
                    <li class="message-item">
                        <div class="other">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                12312asdfasdfasdfasdfasdfasdfasdfasdf
                            </div>
                        </div>
                    </li>
                    <li class="message-item">
                        <div class="own">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                12312sadfasdf
                            </div>
                        </div>
                    </li>
                    <li class="message-item">
                        <div class="own">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                12312sadfasdfasdfasdfasfasfasdfasdfasdfasdfadgklajsdgljasdgjasldgjlasdjgklasdg
                            </div>
                        </div>
                    </li>
                    <li class="message-item">
                        <div class="other">
                            <h3>afterwin</h3>
                            <div class="message-content">
                                333
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <form class="send-form">
            <input type="text" autocomplete="off" />
            <button class="btn btn-default">发 送</button>
        </form>
    </div>
</section>

<script src="../public/components/jquery/dist/jquery.min.js"></script>
<script src="../public/components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../public/components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<script src="../public/components/socket.io-client/dist/socket.io.js"></script>
<script src="../public/scripts/index.js"></script>
<script>
    $(function(){
        $('.music-controls').on('click', function(){
            var me = $(this);
            if(me.hasClass('glyphicon-play')){
                $('.table-music>tbody>tr').removeClass('playing');
                me.closest('tr').addClass('playing');
                $('.music-controls').removeClass('glyphicon-pause').addClass('glyphicon-play');
                me.removeClass('glyphicon-play').addClass('glyphicon-pause');
                me.closest('tr').siblings().find('audio').each(function(i, dom){
                    dom.pause();
                    dom.currentTime = 0;
                })
                me.siblings('audio')[0].play();
            }else{
                me.removeClass('glyphicon-pause').addClass('glyphicon-play');
                me.siblings('audio')[0].pause();
            }
        })
    })
</script>
</body>
</html>